// Auto-generated D3.js staleness comparison plots
// Generated by generate_staleness_plots.py

const stalenessData = {
  "runs": [
    {
      "id": "stale0",
      "label": "max_staleness=0",
      "color": "#3b82f6",
      "steps": [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        22,
        23,
        24,
        25,
        26,
        27,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36,
        37,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        46,
        47,
        48,
        49,
        50,
        51,
        52,
        53,
        54,
        55,
        56,
        57,
        58,
        59,
        60,
        61,
        62,
        63,
        64,
        65,
        66,
        67,
        68,
        69,
        70,
        71,
        72,
        73,
        74,
        75,
        76,
        77,
        78,
        79,
        80,
        81,
        82,
        83,
        84,
        85,
        86,
        87,
        88,
        89,
        90,
        91,
        92,
        93,
        94,
        95,
        96,
        97,
        98,
        99,
        100,
        101,
        102,
        103,
        104,
        105,
        106,
        107,
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        115,
        116,
        117,
        118,
        119,
        120,
        121,
        122,
        123,
        124,
        125,
        126,
        127,
        128,
        129,
        130,
        131,
        132,
        133,
        134,
        135,
        136,
        137,
        138,
        139,
        140,
        141,
        142,
        143,
        144,
        145,
        146,
        147,
        148,
        149,
        150,
        151,
        152,
        153,
        154,
        155,
        156,
        157,
        158,
        159,
        160,
        161,
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169
      ],
      "reward_overall": [
        0.08706896551724137,
        0.10546875,
        0.0925632911392405,
        0.10188356164383562,
        0.1103448275862069,
        0.10616438356164383,
        0.11800699300699301,
        0.1079136690647482,
        0.10355029585798817,
        0.11101973684210527,
        0.09239130434782608,
        0.0979020979020979,
        0.1484375,
        0.11912751677852348,
        0.1309931506849315,
        0.12983870967741937,
        0.12040441176470588,
        0.1171875,
        0.20192307692307693,
        0.1376953125,
        0.16666666666666666,
        0.16260162601626016,
        0.1560077519379845,
        0.15447154471544716,
        0.14818548387096775,
        0.18804347826086956,
        0.155,
        0.17575187969924813,
        0.18649193548387097,
        0.19817073170731708,
        0.23275862068965517,
        0.16346153846153846,
        0.21145833333333333,
        0.21128318584070796,
        0.19866071428571427,
        0.22716346153846154,
        0.2245575221238938,
        0.22268907563025211,
        0.24211711711711711,
        0.23897058823529413,
        0.24561403508771928,
        0.2794811320754717,
        0.25,
        0.27976190476190477,
        0.2936320754716981,
        0.2668269230769231,
        0.34034653465346537,
        0.33080808080808083,
        0.3313106796116505,
        0.3868421052631579,
        0.37028301886792453,
        0.33859223300970875,
        0.34951456310679613,
        0.4140625,
        0.3910891089108911,
        0.38235294117647056,
        0.34558823529411764,
        0.37875,
        0.4466145833333333,
        0.4247448979591837,
        0.45863309352517984,
        0.46875,
        0.4380841121495327,
        0.45872641509433965,
        0.455188679245283,
        0.5151515151515151,
        0.4264705882352941,
        0.5122549019607843,
        0.4684466019417476,
        0.4793814432989691,
        0.5080275229357798,
        0.5301339285714286,
        0.53875,
        0.5343137254901961,
        0.5163690476190477,
        0.5230582524271845,
        0.4845238095238095,
        0.5416666666666666,
        0.5848214285714286,
        0.5046728971962616,
        0.5387658227848101,
        0.5047619047619047,
        0.5371621621621622,
        0.5680803571428571,
        0.5401376146788991,
        0.5058411214953271,
        0.5584112149532711,
        0.5344036697247706,
        0.5607476635514018,
        0.5393518518518519,
        0.5397196261682243,
        0.5219907407407407,
        0.5272727272727272,
        0.5723684210526315,
        0.5595238095238095,
        0.5432692307692307,
        0.5730088495575221,
        0.5056306306306306,
        0.4883177570093458,
        0.5327102803738317,
        0.550314465408805,
        0.5365566037735849,
        0.522196261682243,
        0.5467289719626168,
        0.5613636363636364,
        0.5732758620689655,
        0.5688073394495413,
        0.5514705882352942,
        0.5477272727272727,
        0.5432242990654206,
        0.5456521739130434,
        0.6128318584070797,
        0.5759345794392523,
        0.5451388888888888,
        0.5614406779661016,
        0.5252293577981652,
        0.5352272727272728,
        0.5897727272727272,
        0.5283018867924528,
        0.5940265486725663,
        0.5692675159235668,
        0.5476694915254238,
        0.5888157894736842,
        0.5625,
        0.5583333333333333,
        0.530373831775701,
        0.5159090909090909,
        0.5371621621621622,
        0.5537383177570093,
        0.5671296296296297,
        0.5760869565217391,
        0.5478971962616822,
        0.5844907407407407,
        0.6192129629629629,
        0.6164529914529915,
        0.5478971962616822,
        0.5738636363636364,
        0.5675675675675675,
        0.591304347826087,
        0.5681818181818182,
        0.5883233532934131,
        0.5878378378378378,
        0.5045454545454545,
        0.5966386554621849,
        0.6338495575221239,
        0.5792410714285714,
        0.5523809523809524,
        0.5491452991452992,
        0.5818181818181818,
        0.5331858407079646,
        0.5397727272727273,
        0.5595794392523364,
        0.5798611111111112,
        0.5875,
        0.5995370370370371,
        0.5607476635514018,
        0.592948717948718,
        0.5663716814159292,
        0.5775462962962963,
        0.591743119266055,
        0.5663109756097561,
        0.5229357798165137,
        0.5701754385964912,
        0.5673076923076923,
        0.5673913043478261,
        0.5851293103448276,
        0.5679824561403509,
        0.5641891891891891,
        0.5910194174757282
      ],
      "frac_all_correct": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.006944444444444444,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.008547008547008548,
        0.0,
        0.0,
        0.008130081300813009,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.008064516129032258,
        0.0,
        0.017241379310344827,
        0.0,
        0.016666666666666666,
        0.0,
        0.0,
        0.009615384615384616,
        0.008849557522123894,
        0.0,
        0.0,
        0.00980392156862745,
        0.008771929824561403,
        0.0,
        0.0,
        0.009523809523809525,
        0.02830188679245283,
        0.009615384615384616,
        0.0297029702970297,
        0.0,
        0.019417475728155338,
        0.010526315789473684,
        0.02830188679245283,
        0.019417475728155338,
        0.009708737864077669,
        0.020833333333333332,
        0.019801980198019802,
        0.0392156862745098,
        0.0392156862745098,
        0.03,
        0.03125,
        0.02040816326530612,
        0.050359712230215826,
        0.03125,
        0.037383177570093455,
        0.05660377358490566,
        0.018867924528301886,
        0.0707070707070707,
        0.0196078431372549,
        0.0392156862745098,
        0.04854368932038835,
        0.030927835051546393,
        0.045871559633027525,
        0.09821428571428571,
        0.09,
        0.049019607843137254,
        0.09523809523809523,
        0.05825242718446602,
        0.02857142857142857,
        0.06306306306306306,
        0.09821428571428571,
        0.009345794392523364,
        0.06962025316455696,
        0.06666666666666667,
        0.07207207207207207,
        0.05357142857142857,
        0.06422018348623854,
        0.037383177570093455,
        0.06542056074766354,
        0.07339449541284404,
        0.07476635514018691,
        0.05555555555555555,
        0.056074766355140186,
        0.046296296296296294,
        0.06363636363636363,
        0.07017543859649122,
        0.06666666666666667,
        0.0673076923076923,
        0.13274336283185842,
        0.02702702702702703,
        0.04672897196261682,
        0.11214953271028037,
        0.1069182389937107,
        0.05660377358490566,
        0.07476635514018691,
        0.06542056074766354,
        0.09090909090909091,
        0.08620689655172414,
        0.09174311926605505,
        0.06722689075630252,
        0.08181818181818182,
        0.08411214953271028,
        0.06956521739130435,
        0.1415929203539823,
        0.09345794392523364,
        0.09259259259259259,
        0.059322033898305086,
        0.07339449541284404,
        0.09090909090909091,
        0.1,
        0.0660377358490566,
        0.09734513274336283,
        0.07643312101910828,
        0.1016949152542373,
        0.07017543859649122,
        0.07017543859649122,
        0.05714285714285714,
        0.056074766355140186,
        0.07272727272727272,
        0.06306306306306306,
        0.08411214953271028,
        0.07407407407407407,
        0.043478260869565216,
        0.07476635514018691,
        0.046296296296296294,
        0.1111111111111111,
        0.1282051282051282,
        0.04672897196261682,
        0.08181818181818182,
        0.06306306306306306,
        0.09565217391304348,
        0.09090909090909091,
        0.10778443113772455,
        0.14414414414414414,
        0.08181818181818182,
        0.10084033613445378,
        0.10619469026548672,
        0.125,
        0.09523809523809523,
        0.10256410256410256,
        0.09090909090909091,
        0.07079646017699115,
        0.10909090909090909,
        0.102803738317757,
        0.06481481481481481,
        0.045454545454545456,
        0.07407407407407407,
        0.102803738317757,
        0.11965811965811966,
        0.09734513274336283,
        0.06481481481481481,
        0.09174311926605505,
        0.10365853658536585,
        0.05504587155963303,
        0.07017543859649122,
        0.08547008547008547,
        0.09565217391304348,
        0.07758620689655173,
        0.11403508771929824,
        0.11711711711711711,
        0.05825242718446602
      ],
      "frac_all_wrong": [
        0.5517241379310345,
        0.53125,
        0.5316455696202531,
        0.4931506849315068,
        0.496551724137931,
        0.4657534246575342,
        0.46853146853146854,
        0.4676258992805755,
        0.5443786982248521,
        0.4934210526315789,
        0.515527950310559,
        0.4825174825174825,
        0.4305555555555556,
        0.5100671140939598,
        0.4931506849315068,
        0.5096774193548387,
        0.4485294117647059,
        0.4375,
        0.3247863247863248,
        0.390625,
        0.4015151515151515,
        0.37398373983739835,
        0.4108527131782946,
        0.36585365853658536,
        0.3629032258064516,
        0.3130434782608696,
        0.376,
        0.40601503759398494,
        0.3870967741935484,
        0.35772357723577236,
        0.3017241379310345,
        0.4153846153846154,
        0.325,
        0.2831858407079646,
        0.2857142857142857,
        0.20192307692307693,
        0.3008849557522124,
        0.3025210084033613,
        0.23423423423423423,
        0.22549019607843138,
        0.21052631578947367,
        0.1792452830188679,
        0.19,
        0.20952380952380953,
        0.1792452830188679,
        0.21153846153846154,
        0.1188118811881188,
        0.1717171717171717,
        0.13592233009708737,
        0.09473684210526316,
        0.16981132075471697,
        0.18446601941747573,
        0.14563106796116504,
        0.052083333333333336,
        0.12871287128712872,
        0.11764705882352941,
        0.10784313725490197,
        0.09,
        0.07291666666666667,
        0.08163265306122448,
        0.050359712230215826,
        0.041666666666666664,
        0.11214953271028037,
        0.1509433962264151,
        0.05660377358490566,
        0.06060606060606061,
        0.0784313725490196,
        0.06862745098039216,
        0.05825242718446602,
        0.07216494845360824,
        0.027522935779816515,
        0.05357142857142857,
        0.03,
        0.049019607843137254,
        0.07142857142857142,
        0.038834951456310676,
        0.05714285714285714,
        0.02702702702702703,
        0.08928571428571429,
        0.056074766355140186,
        0.03164556962025317,
        0.047619047619047616,
        0.036036036036036036,
        0.026785714285714284,
        0.027522935779816515,
        0.028037383177570093,
        0.037383177570093455,
        0.06422018348623854,
        0.056074766355140186,
        0.07407407407407407,
        0.06542056074766354,
        0.07407407407407407,
        0.03636363636363636,
        0.02631578947368421,
        0.0380952380952381,
        0.038461538461538464,
        0.04424778761061947,
        0.08108108108108109,
        0.06542056074766354,
        0.07476635514018691,
        0.025157232704402517,
        0.05660377358490566,
        0.06542056074766354,
        0.056074766355140186,
        0.03636363636363636,
        0.034482758620689655,
        0.027522935779816515,
        0.03361344537815126,
        0.03636363636363636,
        0.04672897196261682,
        0.0782608695652174,
        0.017699115044247787,
        0.037383177570093455,
        0.05555555555555555,
        0.059322033898305086,
        0.07339449541284404,
        0.06363636363636363,
        0.02727272727272727,
        0.0660377358490566,
        0.017699115044247787,
        0.06369426751592357,
        0.05084745762711865,
        0.02631578947368421,
        0.05263157894736842,
        0.06666666666666667,
        0.056074766355140186,
        0.02727272727272727,
        0.06306306306306306,
        0.037383177570093455,
        0.009259259259259259,
        0.034782608695652174,
        0.04672897196261682,
        0.037037037037037035,
        0.046296296296296294,
        0.042735042735042736,
        0.06542056074766354,
        0.03636363636363636,
        0.036036036036036036,
        0.017391304347826087,
        0.05454545454545454,
        0.041916167664670656,
        0.036036036036036036,
        0.07272727272727272,
        0.04201680672268908,
        0.008849557522123894,
        0.03571428571428571,
        0.047619047619047616,
        0.03418803418803419,
        0.045454545454545456,
        0.07079646017699115,
        0.07272727272727272,
        0.037383177570093455,
        0.06481481481481481,
        0.03636363636363636,
        0.027777777777777776,
        0.056074766355140186,
        0.05128205128205128,
        0.05309734513274336,
        0.037037037037037035,
        0.045871559633027525,
        0.04878048780487805,
        0.03669724770642202,
        0.02631578947368421,
        0.02564102564102564,
        0.06956521739130435,
        0.04310344827586207,
        0.043859649122807015,
        0.05405405405405406,
        0.019417475728155338
      ],
      "completion_len": [
        419.5,
        439.8125,
        458.75,
        512.0,
        403.9375,
        511.0625,
        323.6875,
        491.0,
        383.5,
        451.8125,
        445.25,
        318.875,
        444.875,
        455.9375,
        419.125,
        342.6875,
        442.5625,
        328.125,
        307.0,
        486.9375,
        407.875,
        489.875,
        344.125,
        436.0625,
        381.1875,
        412.8125,
        454.5625,
        415.875,
        426.3125,
        341.0625,
        445.1875,
        344.5625,
        424.625,
        445.125,
        476.5625,
        300.3125,
        361.5,
        371.0625,
        229.0625,
        365.75,
        344.125,
        314.5,
        376.4375,
        354.0,
        371.0625,
        314.9375,
        356.25,
        365.75,
        413.75,
        325.6875,
        393.625,
        425.3125,
        310.8125,
        188.125,
        319.125,
        294.625,
        358.4375,
        191.75,
        208.5,
        353.6875,
        223.4375,
        327.125,
        119.25,
        290.75,
        197.1875,
        267.0,
        359.6875,
        381.5625,
        252.5,
        371.625,
        179.0,
        229.5625,
        98.5625,
        285.125,
        84.125,
        241.6875,
        178.375,
        276.375,
        229.0625,
        238.75,
        312.5625,
        276.125,
        345.125,
        240.9375,
        304.25,
        289.6875,
        165.5625,
        175.25,
        246.6875,
        156.5625,
        202.125,
        131.25,
        249.5625,
        163.4375,
        178.6875,
        184.1875,
        180.5625,
        179.5625,
        194.8125,
        195.9375,
        338.3125,
        237.3125,
        221.625,
        282.0,
        182.6875,
        141.625,
        213.875,
        155.75,
        125.9375,
        278.0625,
        75.75,
        279.625,
        165.9375,
        225.25,
        143.5625,
        186.625,
        310.3125,
        106.75,
        273.75,
        85.3125,
        202.3125,
        229.1875,
        265.0,
        316.875,
        144.3125,
        276.4375,
        170.5625,
        188.5625,
        232.375,
        233.8125,
        165.875,
        285.1875,
        184.3125,
        180.6875,
        220.4375,
        211.375,
        244.3125,
        289.625,
        114.875,
        160.125,
        183.5625,
        279.3125,
        213.375,
        143.5,
        262.1875,
        166.1875,
        335.5625,
        166.3125,
        149.25,
        302.0,
        217.9375,
        272.9375,
        151.1875,
        180.125,
        314.625,
        209.75,
        299.4375,
        203.3125,
        171.875,
        310.5625,
        221.0625,
        300.9375,
        241.6875,
        272.0,
        179.6875,
        112.4375,
        220.5625,
        217.75,
        299.9375
      ],
      "loss": [
        8.666887879371643e-06,
        -5.0318543799221516e-05,
        -5.633395630866289e-05,
        -0.00014889915473759174,
        -7.392652332782745e-05,
        -4.3894629925489426e-05,
        4.488532431423664e-05,
        -3.848923370242119e-06,
        -9.99579206109047e-05,
        -9.183457586914301e-05,
        -8.254777640104294e-05,
        -0.00016650627367198467,
        -4.380685277283192e-05,
        -0.00017713208217173815,
        -8.920044638216496e-05,
        -6.159837357699871e-05,
        -0.00010478065814822912,
        -5.098304245620966e-05,
        -0.0002961235586553812,
        -0.00013096106704324484,
        -7.589464075863361e-06,
        -7.160718087106943e-05,
        -2.679286990314722e-05,
        -4.356110002845526e-05,
        -0.0001200138358399272,
        -0.00015044992323964834,
        -0.00014047708828002214,
        -0.00020600412972271442,
        -0.00017118488904088736,
        -0.00016023940406739712,
        -0.00014255056157708168,
        -6.0513848438858986e-05,
        -2.5156186893582344e-05,
        -0.00013473525177687407,
        -0.00014936027582734823,
        -0.0001671615755185485,
        -0.00010473793372511864,
        -6.825360469520092e-05,
        -8.992734365165234e-05,
        -2.767669502645731e-05,
        -4.7103618271648884e-05,
        -0.00010398565791547298,
        -7.626216392964125e-05,
        -9.675475303083658e-05,
        -0.00013203069102019072,
        4.390079993754625e-05,
        -3.714277409017086e-05,
        -7.408671081066132e-06,
        -4.783645272254944e-05,
        1.4137709513306618e-05,
        8.196267299354076e-05,
        0.0006227322155609727,
        6.134388968348503e-06,
        0.00011446955613791943,
        8.926575537770987e-05,
        6.133480928838253e-05,
        5.2127521485090256e-05,
        0.00010804354678839445,
        7.994845509529114e-05,
        7.456645835191011e-05,
        0.00022458098828792572,
        0.0001333393156528473,
        0.0001892601139843464,
        0.0003465327899903059,
        0.00017654651310294867,
        0.00017994875088334084,
        0.00029509246814996004,
        0.0007634775247424841,
        0.000303213601000607,
        0.0004361215978860855,
        0.0007402745541185141,
        0.00023628922645002604,
        0.0005871589528396726,
        0.0003199448110535741,
        0.0007686408935114741,
        0.0006627440452575684,
        0.0010251905769109726,
        0.0006303588161244988,
        0.0005776371108368039,
        0.0004163617268204689,
        0.00038608931936323643,
        0.0011655229609459639,
        0.000353653565980494,
        0.0008030306780710816,
        0.0004274460952728987,
        0.0003216590266674757,
        0.000451910775154829,
        0.0008615830447524786,
        0.0010443415958434343,
        0.000927698565647006,
        0.0005645499331876636,
        0.0007552686147391796,
        0.0007750806398689747,
        0.0006998832104727626,
        0.0005841052625328302,
        0.00036952318623661995,
        0.0003515614662319422,
        0.0003571007400751114,
        0.0007317186100408435,
        0.0006296233041211963,
        0.000397283467464149,
        0.0002426867140457034,
        0.00041678384877741337,
        0.00038966117426753044,
        0.0003842506557703018,
        0.0005693086422979832,
        0.000535840168595314,
        0.0004223258001729846,
        0.0005401879316195846,
        0.0005636404966935515,
        0.0006206735270097852,
        0.003930671024136245,
        0.000485473545268178,
        0.0005423144903033972,
        0.0008615015540271997,
        0.0003917722497135401,
        0.0005360214272513986,
        0.0012082259636372328,
        0.00046765280421823263,
        0.0007820655591785908,
        0.00029193307273089886,
        0.00034932373091578484,
        0.0004649998154491186,
        0.0005693618441000581,
        0.0004228483885526657,
        0.00038936908822506666,
        0.00035342678893357515,
        0.0004399860044941306,
        0.0007117108907550573,
        0.0003720984095707536,
        0.0009265766711905599,
        0.0008514460641890764,
        0.16182752407621592,
        0.00034741696435958147,
        0.0006244119722396135,
        0.0011010105954483151,
        0.0005550886271521449,
        0.0004193750210106373,
        0.00034211575984954834,
        0.0004367617657408118,
        0.00048501777928322554,
        0.0003390879137441516,
        0.0005313567817211151,
        0.0005135247483849525,
        0.00046951475087553263,
        0.0003875655820593238,
        0.0199557599844411,
        0.0004917284240946174,
        0.0005180946318432689,
        0.00044062675442546606,
        0.0004606533329933882,
        0.00041045015677809715,
        0.0004577813670039177,
        0.0004954531323164701,
        0.0005145871546119452,
        0.00030752585735172033,
        0.0007054025772958994,
        0.0004955298500135541,
        0.0003210136201232672,
        0.0004793136613443494,
        0.003494150936603546,
        0.00031019968446344137,
        0.00041207217145711184,
        0.0003638472408056259,
        0.000552348792552948,
        0.000644286279566586,
        0.0005868190200999379,
        0.0005398268112912774,
        0.0005955762462690473
      ],
      "kl_mean": [
        1.1501519111334346e-05,
        1.7528274838696234e-05,
        2.0404468159540556e-05,
        2.276050508953631e-05,
        2.7267315090284683e-05,
        2.66090555669507e-05,
        8.41222281451337e-05,
        2.815415609802585e-05,
        0.00013855092402081937,
        6.366700836224481e-05,
        0.00016909225087147206,
        0.0004149445449002087,
        0.0002679254102986306,
        8.105429878924042e-05,
        0.0003377585962880403,
        0.00032317021396011114,
        0.0003307318838778883,
        0.0007790489471517503,
        0.00034064101055264473,
        0.00034598587080836296,
        0.0015048962086439133,
        0.0003672607126645744,
        0.0017388631822541356,
        0.0005969951162114739,
        0.0005307347746565938,
        0.0013889780966565013,
        0.000366139312973246,
        0.0007232828647829592,
        0.001631873194128275,
        0.0027363765984773636,
        0.001089121913537383,
        0.0018177320016548038,
        0.0012308553559705615,
        0.002537311054766178,
        0.0009789220057427883,
        0.005977730732411146,
        0.003246670588850975,
        0.007379883900284767,
        0.013359208591282368,
        0.005836655385792255,
        0.017774788662791252,
        0.007534704636782408,
        0.004379488527774811,
        0.005772990640252829,
        0.0073880963027477264,
        0.03454899415373802,
        0.004869318101555109,
        0.021102221682667732,
        0.005759510211646557,
        0.02334764413535595,
        0.015843167901039124,
        0.007911963388323784,
        0.012899892404675484,
        0.06590329855680466,
        0.03678610548377037,
        0.009039563126862049,
        0.024323757737874985,
        0.08411741256713867,
        0.04502333328127861,
        0.016502005979418755,
        0.017815718427300453,
        0.0551549531519413,
        0.2643166184425354,
        0.10222072899341583,
        0.026184886693954468,
        0.0799417793750763,
        0.042207520455121994,
        0.06353899091482162,
        0.1255197376012802,
        0.1779007762670517,
        0.04808350279927254,
        0.11671731621026993,
        0.17330791056156158,
        0.2813687324523926,
        6.5870585441589355,
        0.04560147225856781,
        3.1131532192230225,
        0.10001599788665771,
        0.06180836260318756,
        0.10544008761644363,
        0.07580792903900146,
        0.13723544776439667,
        0.1455136388540268,
        0.16856175661087036,
        0.06794091314077377,
        0.042007070034742355,
        0.27429765462875366,
        0.24172721803188324,
        0.3087937533855438,
        2.22248911857605,
        0.0532572939991951,
        0.21577699482440948,
        0.08922147005796432,
        0.159113347530365,
        0.055252328515052795,
        0.19387312233448029,
        0.20132741332054138,
        0.3124040365219116,
        0.10265474021434784,
        0.07195169478654861,
        0.052887994796037674,
        0.14411918818950653,
        0.14731189608573914,
        0.22012437880039215,
        0.30596649646759033,
        0.15074275434017181,
        0.1605234593153,
        0.1910686194896698,
        0.6469631791114807,
        0.07880400866270065,
        0.42496955394744873,
        0.09544596821069717,
        0.4362126886844635,
        0.4414643347263336,
        0.3208988904953003,
        0.1610320806503296,
        0.12702758610248566,
        23.4282169342041,
        0.1059635579586029,
        0.11416991800069809,
        0.4976693391799927,
        0.24823109805583954,
        0.11126413941383362,
        0.08489546924829483,
        0.5483438372612,
        0.36915701627731323,
        0.5888914465904236,
        0.07728539407253265,
        0.6533249616622925,
        0.1265256255865097,
        0.09664683789014816,
        0.09257923066616058,
        0.968394935131073,
        0.24207739531993866,
        0.3321225047111511,
        0.3561551570892334,
        0.35175085067749023,
        0.1688164323568344,
        0.30611905455589294,
        1.6709531545639038,
        0.10780024528503418,
        0.22828321158885956,
        0.08133817464113235,
        0.11983615905046463,
        0.3571641445159912,
        0.2457379698753357,
        0.06318213790655136,
        0.1966894418001175,
        0.22523345053195953,
        0.115104079246521,
        0.260498583316803,
        0.18531113862991333,
        0.25485602021217346,
        0.1450142115354538,
        0.08378563821315765,
        0.10024914145469666,
        0.11805848777294159,
        0.17336376011371613,
        0.04593813791871071,
        0.2618366479873657,
        0.13510456681251526,
        0.2237200289964676,
        0.12189632654190063,
        0.10702059417963028,
        0.1405075341463089,
        0.6086540818214417,
        0.4195680022239685,
        0.05807524919509888,
        0.09647517651319504
      ],
      "entropy_mean": [
        0.2925475537776947,
        0.4112454354763031,
        0.41094470024108887,
        0.35911256074905396,
        0.3488675653934479,
        0.3679061233997345,
        0.36436617374420166,
        0.3094756305217743,
        0.3701537549495697,
        0.373915433883667,
        0.4127778708934784,
        0.4013898968696594,
        0.3252507746219635,
        0.3569256365299225,
        0.3370261490345001,
        0.5085493922233582,
        0.3849315643310547,
        0.31816548109054565,
        0.3125039339065552,
        0.3247622549533844,
        0.351925790309906,
        0.3686979115009308,
        0.35622134804725647,
        0.3155664801597595,
        0.36888864636421204,
        0.38503649830818176,
        0.3642750680446625,
        0.3804848790168762,
        0.3157081604003906,
        0.4221073091030121,
        0.3722887635231018,
        0.3647897243499756,
        0.6018581390380859,
        0.35751375555992126,
        0.33883702754974365,
        0.29679417610168457,
        0.4357586205005646,
        0.424458771944046,
        0.313323974609375,
        0.35888218879699707,
        0.3300657868385315,
        0.315794974565506,
        0.36226531863212585,
        0.41260430216789246,
        0.3673093616962433,
        0.38577699661254883,
        0.3241608738899231,
        0.38638219237327576,
        0.42632079124450684,
        0.32075971364974976,
        0.37693536281585693,
        0.32895395159721375,
        0.3886978328227997,
        0.4038516581058502,
        0.32433047890663147,
        0.2885321080684662,
        0.2659922242164612,
        0.38569948077201843,
        0.34609273076057434,
        0.40621867775917053,
        0.24551993608474731,
        0.3676053583621979,
        0.3731856942176819,
        0.3764425814151764,
        0.3418537676334381,
        0.35200372338294983,
        0.34146448969841003,
        0.3119158446788788,
        0.3669256567955017,
        0.19926238059997559,
        0.3894540071487427,
        0.31734004616737366,
        0.2993287742137909,
        0.4090828597545624,
        0.1866280734539032,
        0.2645043730735779,
        0.39769673347473145,
        0.4243018627166748,
        0.2627207338809967,
        0.28229352831840515,
        0.39706796407699585,
        0.34954947233200073,
        0.354629248380661,
        0.3147166073322296,
        0.36618638038635254,
        0.3160708248615265,
        0.2582288384437561,
        0.34848859906196594,
        0.442229300737381,
        0.35753151774406433,
        0.3416692316532135,
        0.2837711274623871,
        0.37942537665367126,
        0.24736835062503815,
        0.43115517497062683,
        0.3655240535736084,
        0.3573898673057556,
        0.3683655858039856,
        0.31951242685317993,
        0.25797802209854126,
        0.3312133848667145,
        0.34789103269577026,
        0.32013165950775146,
        0.3529876172542572,
        0.35496872663497925,
        0.34150639176368713,
        0.38729164004325867,
        0.22413001954555511,
        0.3688470721244812,
        0.20548242330551147,
        0.34458127617836,
        0.3642055094242096,
        0.3395625054836273,
        0.2637277841567993,
        0.2546904385089874,
        0.3701038062572479,
        0.303638219833374,
        0.3169318437576294,
        0.3045308291912079,
        0.3597774803638458,
        0.41529032588005066,
        0.3429999053478241,
        0.35607996582984924,
        0.37334755063056946,
        0.33984532952308655,
        0.34077784419059753,
        0.4064634144306183,
        0.249105304479599,
        0.3904299736022949,
        0.1775982677936554,
        0.3099282383918762,
        0.27954572439193726,
        0.33446863293647766,
        0.32206058502197266,
        0.28831803798675537,
        0.32666099071502686,
        0.3004128932952881,
        0.37196218967437744,
        0.37736713886260986,
        0.27116185426712036,
        0.3023936450481415,
        0.28821295499801636,
        0.4146274924278259,
        0.4116445481777191,
        0.3502291440963745,
        0.3524166941642761,
        0.2714126706123352,
        0.26905596256256104,
        0.44835805892944336,
        0.37461692094802856,
        0.42184606194496155,
        0.39277905225753784,
        0.30717265605926514,
        0.29058563709259033,
        0.3134262263774872,
        0.45557481050491333,
        0.3333021104335785,
        0.4095192551612854,
        0.24551960825920105,
        0.33698949217796326,
        0.3345497250556946,
        0.31734365224838257,
        0.34236234426498413,
        0.3668292760848999,
        0.38156911730766296,
        0.30448323488235474,
        0.38848376274108887,
        0.3955434262752533,
        0.35811954736709595
      ]
    },
    {
      "id": "stale1",
      "label": "max_staleness=1",
      "color": "#22c55e",
      "steps": [
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9,
        10,
        11,
        12,
        13,
        14,
        15,
        16,
        17,
        18,
        19,
        20,
        21,
        22,
        23,
        24,
        25,
        26,
        27,
        28,
        29,
        30,
        31,
        32,
        33,
        34,
        35,
        36,
        37,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        46,
        47,
        48,
        49,
        50,
        51,
        52,
        53,
        54,
        55,
        56,
        57,
        58,
        59,
        60,
        61,
        62,
        63,
        64,
        65,
        66,
        67,
        68,
        69,
        70,
        71,
        72,
        73,
        74,
        75,
        76,
        77,
        78,
        79,
        80,
        81,
        82,
        83,
        84,
        85,
        86,
        87,
        88,
        89,
        90,
        91,
        92,
        93,
        94,
        95,
        96,
        97,
        98,
        99,
        100,
        101,
        102,
        103,
        104,
        105,
        106,
        107,
        108,
        109,
        110,
        111,
        112,
        113,
        114,
        115,
        116,
        117,
        118,
        119,
        120,
        121,
        122,
        123,
        124,
        125,
        126,
        127,
        128,
        129,
        130,
        131,
        132,
        133,
        134,
        135,
        136,
        137,
        138,
        139,
        140,
        141,
        142,
        143,
        144,
        145,
        146,
        147,
        148,
        149,
        150,
        151,
        152,
        153,
        154,
        155,
        156,
        157,
        158,
        159,
        160,
        161,
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169,
        170,
        171,
        172,
        173,
        174,
        175,
        176,
        177,
        178
      ],
      "reward_overall": [
        0.1,
        0.1,
        0.08915441176470588,
        0.09210526315789473,
        0.08006535947712418,
        0.12296747967479675,
        0.1076923076923077,
        0.0839041095890411,
        0.08275862068965517,
        0.09553571428571428,
        0.1201171875,
        0.13716814159292035,
        0.10483870967741936,
        0.14467592592592593,
        0.14125,
        0.11,
        0.11134453781512606,
        0.17268041237113402,
        0.13095238095238096,
        0.11172566371681415,
        0.15513392857142858,
        0.14414414414414414,
        0.14302884615384615,
        0.14752252252252251,
        0.16262135922330098,
        0.17069892473118278,
        0.1782178217821782,
        0.16019417475728157,
        0.20295698924731181,
        0.14322916666666666,
        0.17783505154639176,
        0.21739130434782608,
        0.23065476190476192,
        0.1905940594059406,
        0.18614130434782608,
        0.19642857142857142,
        0.25735294117647056,
        0.2515432098765432,
        0.24228395061728394,
        0.25,
        0.2525,
        0.2357142857142857,
        0.24845679012345678,
        0.2976190476190476,
        0.2740963855421687,
        0.2993827160493827,
        0.30092592592592593,
        0.3171875,
        0.3293918918918919,
        0.3072289156626506,
        0.3302238805970149,
        0.3671875,
        0.3856707317073171,
        0.3854166666666667,
        0.340625,
        0.4107142857142857,
        0.4024390243902439,
        0.4481707317073171,
        0.41911764705882354,
        0.4166666666666667,
        0.5010504201680672,
        0.4769736842105263,
        0.4509493670886076,
        0.5240963855421686,
        0.46646341463414637,
        0.4554794520547945,
        0.48628048780487804,
        0.5233333333333333,
        0.4921875,
        0.5247093023255814,
        0.5432098765432098,
        0.4791666666666667,
        0.5176470588235295,
        0.5328125,
        0.521875,
        0.5247252747252747,
        0.5102941176470588,
        0.5770348837209303,
        0.5553571428571429,
        0.5625,
        0.5609756097560976,
        0.5154320987654321,
        0.5425824175824175,
        0.5361111111111111,
        0.5116279069767442,
        0.5588235294117647,
        0.5236111111111111,
        0.5154494382022472,
        0.5796703296703297,
        0.5255681818181818,
        0.5375,
        0.5191176470588236,
        0.577247191011236,
        0.5710227272727273,
        0.5795454545454546,
        0.6180555555555556,
        0.5547752808988764,
        0.5905172413793104,
        0.4970588235294118,
        0.5535714285714286,
        0.5055147058823529,
        0.5775862068965517,
        0.5646551724137931,
        0.5652777777777778,
        0.5357142857142857,
        0.5508720930232558,
        0.5676470588235294,
        0.516566265060241,
        0.5150602409638554,
        0.5595238095238095,
        0.5875,
        0.5431547619047619,
        0.5892857142857143,
        0.6058823529411764,
        0.5955882352941176,
        0.5669642857142857,
        0.5436046511627907,
        0.5455882352941176,
        0.5569444444444445,
        0.6107954545454546,
        0.5342741935483871,
        0.5337078651685393,
        0.5138888888888888,
        0.5386904761904762,
        0.5794117647058824,
        0.5941176470588235,
        0.5704022988505747,
        0.5537974683544303,
        0.5319444444444444,
        0.5625,
        0.5862068965517241,
        0.5808823529411765,
        0.5662650602409639,
        0.5730337078651685,
        0.5195783132530121,
        0.5316265060240963,
        0.6061827956989247,
        0.5764705882352941,
        0.5688202247191011,
        0.5368589743589743,
        0.6023550724637681,
        0.5892857142857143,
        0.5609756097560976,
        0.5150602409638554,
        0.5383522727272727,
        0.6235955056179775,
        0.5531609195402298,
        0.5497159090909091,
        0.5884146341463414,
        0.5897058823529412,
        0.6208333333333333,
        0.581989247311828,
        0.5726744186046512,
        0.6069444444444444,
        0.5397727272727273,
        0.5503048780487805,
        0.5823529411764706,
        0.5843023255813954,
        0.5517241379310345,
        0.578125,
        0.5867768595041323,
        0.5119047619047619,
        0.5589080459770115,
        0.5813253012048193,
        0.5478395061728395,
        0.5416666666666666,
        0.559593023255814,
        0.5186781609195402,
        0.6144578313253012,
        0.5873655913978495,
        0.5903614457831325,
        0.6048850574712644,
        0.5803571428571429,
        0.6306818181818182,
        0.6278089887640449,
        0.5828651685393258,
        0.5182926829268293,
        null
      ],
      "frac_all_correct": [
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.0,
        0.009009009009009009,
        0.0,
        0.0,
        0.0,
        0.009708737864077669,
        0.0,
        0.0,
        0.0,
        0.0,
        0.023809523809523808,
        0.0,
        0.0,
        0.02040816326530612,
        0.03529411764705882,
        0.0,
        0.0,
        0.011363636363636364,
        0.01,
        0.02857142857142857,
        0.012345679012345678,
        0.011904761904761904,
        0.0,
        0.012345679012345678,
        0.0,
        0.025,
        0.013513513513513514,
        0.0,
        0.0,
        0.0375,
        0.04878048780487805,
        0.05555555555555555,
        0.0,
        0.02857142857142857,
        0.012195121951219513,
        0.04878048780487805,
        0.029411764705882353,
        0.01282051282051282,
        0.1092436974789916,
        0.06578947368421052,
        0.05063291139240506,
        0.060240963855421686,
        0.04878048780487805,
        0.0547945205479452,
        0.04878048780487805,
        0.013333333333333334,
        0.1,
        0.046511627906976744,
        0.09876543209876543,
        0.011904761904761904,
        0.058823529411764705,
        0.0625,
        0.125,
        0.07692307692307693,
        0.058823529411764705,
        0.12790697674418605,
        0.04285714285714286,
        0.0625,
        0.08130081300813008,
        0.07407407407407407,
        0.03296703296703297,
        0.044444444444444446,
        0.08139534883720931,
        0.058823529411764705,
        0.03333333333333333,
        0.06741573033707865,
        0.06593406593406594,
        0.11363636363636363,
        0.08888888888888889,
        0.07058823529411765,
        0.07865168539325842,
        0.09090909090909091,
        0.06818181818181818,
        0.08888888888888889,
        0.12359550561797752,
        0.08045977011494253,
        0.07058823529411765,
        0.10714285714285714,
        0.07352941176470588,
        0.09195402298850575,
        0.06896551724137931,
        0.07777777777777778,
        0.07142857142857142,
        0.08139534883720931,
        0.047058823529411764,
        0.024096385542168676,
        0.04819277108433735,
        0.10714285714285714,
        0.05555555555555555,
        0.11904761904761904,
        0.054945054945054944,
        0.09411764705882353,
        0.09411764705882353,
        0.07142857142857142,
        0.06976744186046512,
        0.03529411764705882,
        0.06666666666666667,
        0.125,
        0.0967741935483871,
        0.06741573033707865,
        0.04938271604938271,
        0.07142857142857142,
        0.058823529411764705,
        0.12941176470588237,
        0.11494252873563218,
        0.0379746835443038,
        0.1,
        0.07142857142857142,
        0.06896551724137931,
        0.10588235294117647,
        0.060240963855421686,
        0.0898876404494382,
        0.10843373493975904,
        0.07228915662650602,
        0.10752688172043011,
        0.1411764705882353,
        0.07865168539325842,
        0.07692307692307693,
        0.12318840579710146,
        0.05952380952380952,
        0.07317073170731707,
        0.0963855421686747,
        0.07954545454545454,
        0.11235955056179775,
        0.14942528735632185,
        0.11363636363636363,
        0.0975609756097561,
        0.11764705882352941,
        0.1,
        0.06451612903225806,
        0.09302325581395349,
        0.08888888888888889,
        0.045454545454545456,
        0.06097560975609756,
        0.11764705882352941,
        0.10465116279069768,
        0.09195402298850575,
        0.07954545454545454,
        0.10743801652892562,
        0.07142857142857142,
        0.05747126436781609,
        0.14457831325301204,
        0.09876543209876543,
        0.023809523809523808,
        0.05813953488372093,
        0.09195402298850575,
        0.13253012048192772,
        0.10752688172043011,
        0.12048192771084337,
        0.10344827586206896,
        0.11904761904761904,
        0.13636363636363635,
        0.11235955056179775,
        0.0898876404494382,
        0.04878048780487805,
        null
      ],
      "frac_all_wrong": [
        0.5111111111111111,
        0.496,
        0.5294117647058824,
        0.5263157894736842,
        0.5751633986928104,
        0.4715447154471545,
        0.5153846153846153,
        0.5684931506849316,
        0.5586206896551724,
        0.5428571428571428,
        0.5,
        0.415929203539823,
        0.4838709677419355,
        0.39814814814814814,
        0.39,
        0.48,
        0.46218487394957986,
        0.3402061855670103,
        0.47619047619047616,
        0.46017699115044247,
        0.39285714285714285,
        0.4594594594594595,
        0.375,
        0.4144144144144144,
        0.3786407766990291,
        0.3225806451612903,
        0.36633663366336633,
        0.36893203883495146,
        0.27956989247311825,
        0.34375,
        0.35051546391752575,
        0.29347826086956524,
        0.23809523809523808,
        0.36633663366336633,
        0.2717391304347826,
        0.3163265306122449,
        0.23529411764705882,
        0.2222222222222222,
        0.20987654320987653,
        0.25,
        0.2,
        0.2857142857142857,
        0.19753086419753085,
        0.2261904761904762,
        0.21686746987951808,
        0.18518518518518517,
        0.2222222222222222,
        0.15,
        0.13513513513513514,
        0.13253012048192772,
        0.16417910447761194,
        0.1375,
        0.12195121951219512,
        0.125,
        0.1375,
        0.1,
        0.08536585365853659,
        0.04878048780487805,
        0.029411764705882353,
        0.10256410256410256,
        0.058823529411764705,
        0.07894736842105263,
        0.0759493670886076,
        0.03614457831325301,
        0.10975609756097561,
        0.0821917808219178,
        0.06097560975609756,
        0.06666666666666667,
        0.0625,
        0.03488372093023256,
        0.06172839506172839,
        0.047619047619047616,
        0.07058823529411765,
        0.025,
        0.1,
        0.054945054945054944,
        0.11764705882352941,
        0.046511627906976744,
        0.05714285714285714,
        0.0625,
        0.06504065040650407,
        0.09876543209876543,
        0.03296703296703297,
        0.022222222222222223,
        0.06976744186046512,
        0.023529411764705882,
        0.06666666666666667,
        0.06741573033707865,
        0.01098901098901099,
        0.09090909090909091,
        0.03333333333333333,
        0.08235294117647059,
        0.033707865168539325,
        0.03409090909090909,
        0.056818181818181816,
        0.0,
        0.033707865168539325,
        0.022988505747126436,
        0.047058823529411764,
        0.047619047619047616,
        0.08823529411764706,
        0.034482758620689655,
        0.034482758620689655,
        0.044444444444444446,
        0.05952380952380952,
        0.03488372093023256,
        0.03529411764705882,
        0.03614457831325301,
        0.060240963855421686,
        0.047619047619047616,
        0.05555555555555555,
        0.08333333333333333,
        0.04395604395604396,
        0.011764705882352941,
        0.023529411764705882,
        0.03571428571428571,
        0.06976744186046512,
        0.07058823529411765,
        0.03333333333333333,
        0.045454545454545456,
        0.06451612903225806,
        0.0449438202247191,
        0.04938271604938271,
        0.047619047619047616,
        0.047058823529411764,
        0.03529411764705882,
        0.06896551724137931,
        0.0379746835443038,
        0.05555555555555555,
        0.07142857142857142,
        0.08045977011494253,
        0.047058823529411764,
        0.03614457831325301,
        0.0449438202247191,
        0.08433734939759036,
        0.0963855421686747,
        0.010752688172043012,
        0.058823529411764705,
        0.033707865168539325,
        0.02564102564102564,
        0.036231884057971016,
        0.05952380952380952,
        0.036585365853658534,
        0.08433734939759036,
        0.056818181818181816,
        0.0449438202247191,
        0.06896551724137931,
        0.056818181818181816,
        0.036585365853658534,
        0.047058823529411764,
        0.03333333333333333,
        0.06451612903225806,
        0.03488372093023256,
        0.03333333333333333,
        0.03409090909090909,
        0.04878048780487805,
        0.047058823529411764,
        0.05813953488372093,
        0.06896551724137931,
        0.022727272727272728,
        0.049586776859504134,
        0.07142857142857142,
        0.034482758620689655,
        0.07228915662650602,
        0.012345679012345678,
        0.10714285714285714,
        0.023255813953488372,
        0.05747126436781609,
        0.03614457831325301,
        0.03225806451612903,
        0.024096385542168676,
        0.022988505747126436,
        0.05952380952380952,
        0.022727272727272728,
        0.033707865168539325,
        0.033707865168539325,
        0.036585365853658534,
        null
      ],
      "completion_len": [
        505.6875,
        443.0,
        383.5,
        473.0,
        306.4375,
        388.5,
        392.3125,
        483.875,
        362.75,
        331.3125,
        322.4375,
        382.875,
        454.8125,
        427.0625,
        356.0625,
        260.0625,
        414.9375,
        377.3125,
        466.3125,
        362.125,
        371.0,
        453.125,
        464.9375,
        411.1875,
        398.4375,
        497.625,
        444.125,
        419.375,
        489.375,
        355.625,
        477.375,
        277.125,
        392.6875,
        407.5625,
        406.5625,
        265.8125,
        414.0625,
        404.625,
        320.125,
        237.0625,
        377.625,
        402.875,
        285.125,
        342.6875,
        232.0625,
        286.6875,
        379.875,
        303.75,
        305.8125,
        364.25,
        237.875,
        286.0625,
        183.1875,
        237.0,
        284.875,
        244.25,
        327.375,
        175.0,
        247.625,
        197.3125,
        372.375,
        267.8125,
        294.125,
        310.3125,
        247.6875,
        272.5625,
        367.8125,
        253.0,
        262.0625,
        348.9375,
        148.1875,
        147.25,
        318.0,
        260.9375,
        236.25,
        191.6875,
        201.375,
        234.4375,
        195.25,
        258.3125,
        219.0,
        197.8125,
        219.8125,
        214.3125,
        156.3125,
        249.875,
        223.0,
        179.875,
        263.8125,
        219.25,
        270.6875,
        209.625,
        219.8125,
        124.3125,
        195.125,
        181.3125,
        241.3125,
        183.875,
        176.4375,
        188.9375,
        267.875,
        263.4375,
        253.5,
        308.9375,
        241.125,
        219.625,
        138.5625,
        201.75,
        206.8125,
        221.3125,
        214.9375,
        257.5625,
        274.5625,
        228.0,
        153.1875,
        192.3125,
        271.3125,
        231.875,
        324.625,
        280.25,
        211.1875,
        232.5625,
        175.0625,
        186.625,
        262.875,
        345.5625,
        355.5,
        168.9375,
        229.8125,
        162.0,
        194.5,
        216.25,
        267.9375,
        145.75,
        119.3125,
        237.125,
        260.0,
        218.5,
        270.125,
        175.5,
        293.375,
        184.875,
        150.875,
        243.9375,
        166.0,
        195.9375,
        260.625,
        184.6875,
        176.4375,
        312.5,
        252.875,
        205.25,
        237.125,
        244.625,
        197.25,
        280.1875,
        150.4375,
        160.5625,
        245.375,
        190.3125,
        312.5625,
        353.1875,
        254.4375,
        200.75,
        392.25,
        221.375,
        195.875,
        155.6875,
        273.6875,
        251.9375,
        207.5625,
        194.4375,
        246.0625,
        226.5,
        213.125,
        189.1875,
        211.25,
        176.25
      ],
      "loss": [
        -3.506534267216921e-05,
        1.8756138160824776e-05,
        -9.017856791615486e-05,
        -0.00017808459233492613,
        -0.00016755773685872555,
        -3.7974677979946136e-07,
        -0.0001288240309804678,
        -0.00013233872596174479,
        -6.336427759379148e-05,
        -0.00012392760254442692,
        -0.0001417878083884716,
        -0.00017187208868563175,
        -1.361919566988945e-05,
        -0.00024062162265181541,
        -0.00016206572763621807,
        -3.945070784538984e-05,
        -3.281049430370331e-05,
        -5.925912410020828e-05,
        -0.00011096382513642311,
        -0.0003580066841095686,
        -0.00014373264275491238,
        -0.00015068857464939356,
        -0.00011351786088198423,
        -4.945939872413874e-05,
        -6.166379898786545e-05,
        -8.89473594725132e-05,
        -0.0001405192306265235,
        -8.033507037907839e-05,
        -0.00032042840030044317,
        -6.944616325199604e-05,
        -7.738929707556963e-05,
        -9.863299783319235e-05,
        -1.8498627468943596e-05,
        -0.0001585605787113309,
        -0.00017737876623868942,
        -0.00014311657287180424,
        -0.00023719482123851776,
        -0.00011227978393435478,
        -0.00013258890248835087,
        -9.472318924963474e-05,
        -5.913246423006058e-05,
        -0.00025139213539659977,
        -6.016681436449289e-05,
        -7.134675979614258e-05,
        -0.00017581484280526638,
        -1.3869721442461014e-06,
        -4.474748857319355e-05,
        -9.361875709146261e-05,
        -0.00010014104191213846,
        9.471690282225609e-05,
        -0.00021742854733020067,
        -0.0001536053605377674,
        3.421760629862547e-05,
        5.280191544443369e-05,
        0.0003490191884338856,
        -1.845590304583311e-05,
        8.626270573586226e-05,
        4.2926985770463943e-05,
        -6.4283376559615135e-06,
        2.3772241547703743e-05,
        0.00023229781072586775,
        -4.5881024561822414e-05,
        0.0004401580663397908,
        0.00020772789139300585,
        0.0007444840157404542,
        0.0003341840347275138,
        0.0009595656301826239,
        0.0002612393582239747,
        0.00045634270645678043,
        0.0004242007853463292,
        0.00032134971115738153,
        0.001627152319997549,
        0.0006109899841248989,
        0.000737607479095459,
        0.00012201571371406317,
        0.0016115003963932395,
        0.0005170388612896204,
        0.0007147714495658875,
        0.0008792042499408126,
        0.0005516181699931622,
        0.0009289354784414172,
        0.0008157819975167513,
        0.0006221105577424169,
        0.0009362802375108004,
        0.00033496320247650146,
        0.0006713172188028693,
        0.0016344657633453608,
        0.027529935585334897,
        0.00040722626727074385,
        0.0015092763351276517,
        0.00036931876093149185,
        0.0007542204111814499,
        0.0004926355322822928,
        0.0007457414176315069,
        0.0010178594384342432,
        0.0005188098875805736,
        0.0007080551004037261,
        0.0003711222670972347,
        0.0005795382894575596,
        0.001576674054376781,
        0.0006013824604451656,
        0.0006487579084932804,
        0.00038518256042152643,
        0.00044013140723109245,
        0.0006247778655961156,
        0.00046227395068854094,
        0.0062094193417578936,
        0.0005365554243326187,
        0.00040657666977494955,
        0.0016323326854035258,
        0.0004341981839388609,
        0.0017612092196941376,
        0.0005523149156942964,
        0.00039611593820154667,
        0.00042302324436604977,
        0.0004729100037366152,
        0.0005403244867920876,
        0.0005160775035619736,
        0.00035074399784207344,
        0.00037324114236980677,
        0.0004654289223253727,
        0.00047294911928474903,
        0.00040698691736906767,
        0.000447648111730814,
        0.00043560913763940334,
        0.00037178455386310816,
        0.0006268537836149335,
        0.0003405731404200196,
        0.0009777741506695747,
        0.0003234897740185261,
        0.0005957514513283968,
        0.00043192284647375345,
        0.00024494482204318047,
        0.0003924733027815819,
        0.00045933621004223824,
        0.00047358404844999313,
        0.0004038263577967882,
        0.00037847470957785845,
        0.0011554082157090306,
        0.007450217031873763,
        0.0004866041708737612,
        0.00035646266769617796,
        0.0003076812718063593,
        0.0005179968429729342,
        0.0005185469053685665,
        0.0003443134482949972,
        0.00035488815046846867,
        0.00040701450780034065,
        0.0003969823010265827,
        0.0004156726645305753,
        0.0004236350068822503,
        0.0003130008699372411,
        0.00046678015496581793,
        0.0008727556560188532,
        0.0032766838558018208,
        0.001453746692277491,
        0.0004980918020009995,
        0.00038414017762988806,
        0.00038438697811216116,
        0.0003461490850895643,
        0.0003192478325217962,
        0.0004736717091873288,
        0.0006840450223535299,
        0.0003627799451351166,
        0.0005753817968070507,
        0.0003996783634647727,
        0.0006098833400756121,
        0.0008199464064091444,
        0.00028375699184834957,
        0.0007126746932044625,
        0.000433098990470171,
        0.0003727914299815893,
        0.0003932059044018388,
        0.0003820493584498763,
        0.0007898035692051053,
        0.0005330045241862535,
        0.0005211025709286332,
        0.0004148308653384447
      ],
      "kl_mean": [
        1.8782684492180124e-05,
        1.63586391863646e-05,
        2.3662529201828875e-05,
        1.9855928258039057e-05,
        3.0332601454574615e-05,
        3.7931575207039714e-05,
        5.645510464091785e-05,
        4.299542342778295e-05,
        9.345994476461783e-05,
        0.00011505272414069623,
        0.00016872462583705783,
        0.00014754460426047444,
        0.0001089790093828924,
        0.00014895806089043617,
        0.0002021196560235694,
        0.00039131566882133484,
        0.0003157893952447921,
        0.0004710063512902707,
        0.00031990560819394886,
        0.000632649171166122,
        0.0007668280159123242,
        0.0006558133754879236,
        0.0005100123817101121,
        0.001668349141255021,
        0.0017392587615177035,
        0.0004432463611010462,
        0.00048656834405846894,
        0.0007797738653607666,
        0.0003475227567832917,
        0.001523675862699747,
        0.0004669542540796101,
        0.006007960997521877,
        0.0021318148355931044,
        0.002318729879334569,
        0.003014475107192993,
        0.008949881419539452,
        0.0018541518365964293,
        0.009343600831925869,
        0.014918026514351368,
        0.012555448338389397,
        0.002098779659718275,
        0.0028568299021571875,
        0.023868564516305923,
        0.008717726916074753,
        0.01940177008509636,
        0.030822981148958206,
        0.031125476583838463,
        0.03210075572133064,
        0.004977933596819639,
        0.026017602533102036,
        0.1647607535123825,
        0.0333760641515255,
        0.05279308557510376,
        0.13734130561351776,
        1.9191691875457764,
        0.2367914319038391,
        0.03944708779454231,
        0.08779927343130112,
        0.09420937299728394,
        0.1357555389404297,
        0.01720956340432167,
        0.058209456503391266,
        0.038422152400016785,
        0.04437338560819626,
        5.5568132400512695,
        0.12970447540283203,
        0.014638509601354599,
        0.06028599664568901,
        0.6170485615730286,
        0.09389729797840118,
        0.6985950469970703,
        0.22081606090068817,
        0.0743703693151474,
        0.15717780590057373,
        0.19823013246059418,
        0.2849031686782837,
        0.24793019890785217,
        0.10103964805603027,
        1.399056077003479,
        0.5411001443862915,
        0.07764025032520294,
        0.1605798304080963,
        0.155593141913414,
        6.917125225067139,
        0.24224551022052765,
        0.14026036858558655,
        0.06565862149000168,
        0.4722639322280884,
        0.0459795705974102,
        0.06497547775506973,
        0.0879010409116745,
        0.3448578119277954,
        0.5228595733642578,
        0.41238728165626526,
        0.14272040128707886,
        0.22659064829349518,
        0.1745142638683319,
        0.25639042258262634,
        0.36386817693710327,
        35.020606994628906,
        0.07392122596502304,
        0.13592791557312012,
        0.12496116757392883,
        0.05814765393733978,
        0.18360088765621185,
        0.17979395389556885,
        0.3620099723339081,
        1.6591705083847046,
        0.1554463803768158,
        0.07342468202114105,
        1.2197314500808716,
        0.8403392434120178,
        0.0724182203412056,
        0.1220182329416275,
        0.20347072184085846,
        0.289354145526886,
        0.07663214951753616,
        0.2415219247341156,
        0.0554090216755867,
        0.21639198064804077,
        0.05393777787685394,
        0.48808252811431885,
        0.5217292308807373,
        0.08623108267784119,
        0.0985327810049057,
        0.72922682762146,
        0.031185470521450043,
        0.7694534063339233,
        0.4997953474521637,
        0.22936750948429108,
        0.3268251419067383,
        0.13160663843154907,
        0.23147358000278473,
        0.6826422810554504,
        0.20024502277374268,
        0.20643489062786102,
        0.24839907884597778,
        0.07814225554466248,
        0.21693462133407593,
        0.4192381203174591,
        0.21091310679912567,
        0.6160642504692078,
        0.18605096638202667,
        0.05218798294663429,
        0.40569934248924255,
        0.2769272029399872,
        0.07068772614002228,
        0.28646552562713623,
        0.06975586712360382,
        0.18075527250766754,
        0.22777381539344788,
        0.047239091247320175,
        0.06125890091061592,
        0.1261225938796997,
        0.22187593579292297,
        0.09996598958969116,
        0.6694300174713135,
        0.08646325021982193,
        0.03670373186469078,
        0.23690524697303772,
        0.5297608971595764,
        0.2505834698677063,
        0.13640739023685455,
        0.21517829596996307,
        0.07115310430526733,
        0.07359934598207474,
        0.4775642156600952,
        0.5967552065849304,
        0.8426594138145447,
        0.21023154258728027,
        0.22046007215976715,
        0.18517117202281952,
        0.19535331428050995,
        0.2093430906534195,
        0.10255017131567001,
        0.08072549104690552,
        2.5680785179138184,
        0.2679593861103058
      ],
      "entropy_mean": [
        0.4346514940261841,
        0.3775520920753479,
        0.39585718512535095,
        0.39303168654441833,
        0.40200096368789673,
        0.36952030658721924,
        0.3423047661781311,
        0.3645995855331421,
        0.401583731174469,
        0.32454705238342285,
        0.33094367384910583,
        0.37842220067977905,
        0.3440166711807251,
        0.3985857665538788,
        0.4384779930114746,
        0.33183836936950684,
        0.45109498500823975,
        0.40835434198379517,
        0.4186627268791199,
        0.3492521643638611,
        0.40209367871284485,
        0.3830033838748932,
        0.34706321358680725,
        0.33209893107414246,
        0.3781941533088684,
        0.4312150776386261,
        0.4357083737850189,
        0.4229981303215027,
        0.32944193482398987,
        0.337861567735672,
        0.3920055031776428,
        0.370807021856308,
        0.4017840027809143,
        0.4681948721408844,
        0.3627852201461792,
        0.3515765964984894,
        0.3728763163089752,
        0.4337855577468872,
        0.360204815864563,
        0.3889581561088562,
        0.3915281295776367,
        0.3670414090156555,
        0.3509312868118286,
        0.38757723569869995,
        0.37205418944358826,
        0.3641532361507416,
        0.3948068618774414,
        0.3423875570297241,
        0.303906112909317,
        0.36523693799972534,
        0.2755059003829956,
        0.3246139883995056,
        0.44065380096435547,
        0.3879603147506714,
        0.31064024567604065,
        0.35443809628486633,
        0.35813042521476746,
        0.37623777985572815,
        0.3698718249797821,
        0.28181684017181396,
        0.38930076360702515,
        0.32896754145622253,
        0.40879106521606445,
        0.31523773074150085,
        0.3688170611858368,
        0.31031155586242676,
        0.37664926052093506,
        0.3396763801574707,
        0.3046588599681854,
        0.34577101469039917,
        0.3520427942276001,
        0.2879142463207245,
        0.30233097076416016,
        0.37326741218566895,
        0.20833604037761688,
        0.3323628008365631,
        0.2954685389995575,
        0.38759979605674744,
        0.20079119503498077,
        0.33420529961586,
        0.39322149753570557,
        0.26971590518951416,
        0.25134873390197754,
        0.344473272562027,
        0.36257046461105347,
        0.3581130802631378,
        0.3004595935344696,
        0.37692567706108093,
        0.31293269991874695,
        0.3834320604801178,
        0.24925942718982697,
        0.3480284512042999,
        0.3630446493625641,
        0.3097105026245117,
        0.32083559036254883,
        0.3554037809371948,
        0.31650131940841675,
        0.32375916838645935,
        0.3623799681663513,
        0.2560272812843323,
        0.37450700998306274,
        0.33151739835739136,
        0.38668426871299744,
        0.33578819036483765,
        0.3211019039154053,
        0.39894232153892517,
        0.2642638683319092,
        0.3237089514732361,
        0.33826687932014465,
        0.37437114119529724,
        0.23526543378829956,
        0.2774862051010132,
        0.3574497401714325,
        0.33612316846847534,
        0.3165559470653534,
        0.3491371273994446,
        0.39681708812713623,
        0.3722147047519684,
        0.3322850465774536,
        0.2928120493888855,
        0.27840325236320496,
        0.3526341915130615,
        0.31358039379119873,
        0.27361825108528137,
        0.2800469696521759,
        0.3033960461616516,
        0.3492905795574188,
        0.3369205594062805,
        0.3629918694496155,
        0.3382991850376129,
        0.3054700493812561,
        0.29695022106170654,
        0.29530438780784607,
        0.3474116027355194,
        0.22169354557991028,
        0.3710353374481201,
        0.2636364996433258,
        0.1941182166337967,
        0.3325812518596649,
        0.25530296564102173,
        0.24574488401412964,
        0.3553730547428131,
        0.3026343882083893,
        0.21340177953243256,
        0.26587486267089844,
        0.3061028718948364,
        0.2323203980922699,
        0.3770148754119873,
        0.32001540064811707,
        0.3887333273887634,
        0.40359920263290405,
        0.2775613069534302,
        0.33568909764289856,
        0.33995693922042847,
        0.35579347610473633,
        0.40273118019104004,
        0.3380661606788635,
        0.2838906943798065,
        0.3748282492160797,
        0.25715723633766174,
        0.291549414396286,
        0.34801435470581055,
        0.2258799970149994,
        0.29197460412979126,
        0.35816246271133423,
        0.23884209990501404,
        0.42779701948165894,
        0.33338630199432373,
        0.3748326897621155,
        0.18934668600559235,
        0.3129604756832123,
        0.3438790738582611,
        0.27464234828948975,
        0.35654735565185547,
        0.4341961145401001,
        0.3458346128463745,
        0.2973407506942749,
        0.3103306293487549
      ]
    }
  ],
  "summaries": {
    "stale0": {
      "id": "stale0",
      "final_reward": 0.5910194174757282,
      "final_loss": 0.0005955762462690473,
      "final_kl": 0.09647517651319504,
      "final_entropy": 0.35811954736709595,
      "final_completion_len": 299.9375,
      "final_frac_all_correct": 0.05825242718446602,
      "final_frac_all_wrong": 0.019417475728155338,
      "avg_reward": 0.5694184683094431,
      "avg_loss": 0.0007978440844453871,
      "avg_completion_len": 237.6625,
      "total_steps": 169,
      "median_mfu": 45.21594396507385,
      "total_training_time": 5189.532116045,
      "avg_lag_0": 1.9998158718468053,
      "avg_mean_lag": 0.0,
      "total_filtered": 4085,
      "total_wasted": 4662,
      "median_time_per_step": 25.0440190275001,
      "label": "max_staleness=0",
      "color": "#3b82f6",
      "eval_dataset": "gsm8k",
      "eval_accuracy": 0.645185746777862
    },
    "stale1": {
      "id": "stale1",
      "final_reward": 0.5182926829268293,
      "final_loss": 0.0004148308653384447,
      "final_kl": 0.2679593861103058,
      "final_entropy": 0.3103306293487549,
      "final_completion_len": 176.25,
      "final_frac_all_correct": 0.04878048780487805,
      "final_frac_all_wrong": 0.036585365853658534,
      "avg_reward": 0.5855753888166249,
      "avg_loss": 0.0004836318898014724,
      "avg_completion_len": 219.0,
      "total_steps": 178,
      "median_mfu": 56.56969492931518,
      "total_training_time": 5580.521929124,
      "avg_lag_0": 1.98079561042524,
      "avg_lag_1": 1.993468626078843,
      "avg_mean_lag": 0.747419975511632,
      "total_filtered": 3512,
      "total_wasted": 1331,
      "median_time_per_step": 20.01228526099976,
      "label": "max_staleness=1",
      "color": "#22c55e",
      "eval_dataset": "gsm8k",
      "eval_accuracy": 0.6398786959818044
    }
  }
};

// Format specifications for different metric types
const metricFormats = {
    'final_reward': { format: '.3f', suffix: '' },
    'avg_reward': { format: '.3f', suffix: '' },
    'final_loss': { format: '.4f', suffix: '' },
    'avg_loss': { format: '.4f', suffix: '' },
    'final_kl': { format: '.2e', suffix: '' },
    'final_entropy': { format: '.3f', suffix: '' },
    'final_completion_len': { format: '.0f', suffix: ' tokens' },
    'avg_completion_len': { format: '.0f', suffix: ' tokens' },
    'final_frac_all_correct': { format: '.1%', suffix: '' },
    'final_frac_all_wrong': { format: '.1%', suffix: '' },
    'total_steps': { format: 'd', suffix: '' },
    'median_mfu': { format: '.1f', suffix: '%' },
    'total_training_time': { format: '.0f', suffix: 's' },
    'avg_mean_lag': { format: '.2f', suffix: '' },
    'avg_lag_0': { format: '.1f', suffix: '' },
    'avg_lag_1': { format: '.1f', suffix: '' },
    'avg_lag_2': { format: '.1f', suffix: '' },
    'total_filtered': { format: ',d', suffix: '' },
    'total_wasted': { format: ',d', suffix: '' },
    'median_time_per_step': { format: '.1f', suffix: 's' },
    'eval_accuracy': { format: '.1%', suffix: '' },
};

// Populate inline metric spans
function populateInlineMetrics() {
    const spans = document.querySelectorAll('span.metric[data-run][data-key]');
    spans.forEach(span => {
        const runId = span.dataset.run;
        const key = span.dataset.key;
        const summary = stalenessData.summaries[runId];
        if (!summary) {
            console.warn(`No summary found for run: ${runId}`);
            span.textContent = '??';
            return;
        }
        const value = summary[key];
        if (value === null || value === undefined) {
            span.textContent = 'N/A';
            return;
        }
        const fmt = metricFormats[key] || { format: '.3f', suffix: '' };
        const formatted = d3.format(fmt.format)(value) + fmt.suffix;
        span.textContent = formatted;
        // Optionally color-code by run
        if (summary.color) {
            span.style.color = summary.color;
            span.style.fontWeight = '600';
        }
    });
}

// Generate comparison table
function generateComparisonTable() {
    const container = document.getElementById('staleness-comparison-table');
    if (!container) return;

    const runs = stalenessData.runs;
    const summaries = stalenessData.summaries;

    // Build table HTML
    let html = '<table class="results-table comparison-table">';

    // Header row with run labels
    html += '<thead><tr><th></th>';
    runs.forEach(run => {
        html += `<th style="color: ${run.color}">${run.label}</th>`;
    });
    html += '</tr></thead>';

    html += '<tbody>';

    // Benchmarks section
    html += '<tr class="section-header"><td colspan="' + (runs.length + 1) + '">Benchmarks</td></tr>';

    // Get unique datasets across all runs
    const datasets = new Set();
    runs.forEach(run => {
        const s = summaries[run.id];
        if (s && s.eval_dataset) datasets.add(s.eval_dataset);
    });

    datasets.forEach(dataset => {
        html += `<tr><td>${dataset.toUpperCase()}</td>`;
        runs.forEach(run => {
            const s = summaries[run.id];
            if (s && s.eval_dataset === dataset && s.eval_accuracy !== null) {
                html += `<td>${d3.format('.1%')(s.eval_accuracy)}</td>`;
            } else {
                html += '<td>&mdash;</td>';
            }
        });
        html += '</tr>';
    });

    // Performance section
    html += '<tr class="section-header"><td colspan="' + (runs.length + 1) + '">Performance</td></tr>';

    const perfMetrics = [
        { key: 'total_steps', label: 'Total Steps' },
        { key: 'total_training_time', label: 'Training Time' },
        { key: 'median_time_per_step', label: 'Time/Step (median)' },
        { key: 'median_mfu', label: 'MFU (median)' },
    ];

    perfMetrics.forEach(metric => {
        html += `<tr><td>${metric.label}</td>`;
        runs.forEach(run => {
            const s = summaries[run.id];
            const value = s ? s[metric.key] : null;
            if (value !== null && value !== undefined) {
                const fmt = metricFormats[metric.key] || { format: '.2f', suffix: '' };
                html += `<td>${d3.format(fmt.format)(value)}${fmt.suffix}</td>`;
            } else {
                html += '<td>&mdash;</td>';
            }
        });
        html += '</tr>';
    });

    html += '</tbody></table>';

    container.innerHTML = html;
}

// Create shared tooltip
let tooltip = null;
function getTooltip() {
    if (!tooltip) {
        tooltip = d3.select('body').append('div')
            .attr('class', 'plot-tooltip')
            .style('position', 'absolute')
            .style('background', 'rgba(0,0,0,0.85)')
            .style('color', '#fff')
            .style('padding', '8px 12px')
            .style('border-radius', '4px')
            .style('font-size', '12px')
            .style('font-family', 'Source Code Pro, monospace')
            .style('pointer-events', 'none')
            .style('opacity', 0)
            .style('z-index', 1000)
            .style('white-space', 'nowrap');
    }
    return tooltip;
}

function initStalenessPlots() {
    console.log('initStalenessPlots called, D3 version:', d3.version);
    const runs = stalenessData.runs;

    // Plot configurations
    const plotConfigs = [
        // Row 1: Rewards
        {
            id: 'plot-reward',
            title: 'Reward',
            yKey: 'reward_overall',
            yLabel: 'Reward',
            logScale: false,
            format: '.3f'
        },
        {
            id: 'plot-allcorr-allwrong',
            title: 'All Correct / All Wrong',
            yKeys: ['frac_all_correct', 'frac_all_wrong'],
            yLabels: ['Correct', 'Wrong'],
            yLabel: 'Fraction',
            logScale: false,
            multiLine: true,
            format: '.1%'
        },
        {
            id: 'plot-completion-len',
            title: 'Completion Length',
            yKey: 'completion_len',
            yLabel: 'Tokens',
            logScale: false,
            format: '.0f'
        },
        // Row 2: Training dynamics
        {
            id: 'plot-loss',
            title: 'Loss',
            yKey: 'loss',
            yLabel: 'Loss',
            logScale: false,
            format: '.4f'
        },
        {
            id: 'plot-kl',
            title: 'KL Divergence',
            yKey: 'kl_mean',
            yLabel: 'KL',
            logScale: true,
            format: '.2e'
        },
        {
            id: 'plot-entropy',
            title: 'Entropy',
            yKey: 'entropy_mean',
            yLabel: 'Entropy',
            logScale: false,
            format: '.3f'
        }
    ];

    plotConfigs.forEach(config => {
        const container = document.getElementById(config.id);
        if (!container) return;
        drawD3Plot(container, runs, config);
    });
}

function drawD3Plot(container, runs, config) {
    // Clear any existing content
    container.innerHTML = '';

    const margin = { top: 24, right: 12, bottom: 32, left: 48 };
    const width = 280 - margin.left - margin.right;
    const height = 170 - margin.top - margin.bottom;

    const svg = d3.select(container)
        .append('svg')
        .attr('viewBox', `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
        .attr('preserveAspectRatio', 'xMidYMid meet');

    const g = svg.append('g')
        .attr('transform', `translate(${margin.left},${margin.top})`);

    // Collect all data points
    let allX = [];
    let allY = [];

    runs.forEach(run => {
        allX.push(...run.steps);
        if (config.multiLine) {
            config.yKeys.forEach(key => {
                allY.push(...run[key].filter(v => v !== null && v !== undefined));
            });
        } else {
            allY.push(...run[config.yKey].filter(v => v !== null && v !== undefined));
        }
    });

    if (allY.length === 0) return;

    // X scale
    const xScale = d3.scaleLinear()
        .domain(d3.extent(allX))
        .range([0, width]);

    // Y scale
    let yMin = d3.min(allY);
    let yMax = d3.max(allY);
    const yPad = (yMax - yMin) * 0.1 || 0.1;

    let yScale;
    if (config.logScale) {
        const posValues = allY.filter(v => v > 0);
        yScale = d3.scaleLog()
            .domain([d3.min(posValues) * 0.5, d3.max(posValues) * 2])
            .range([height, 0])
            .nice();
    } else {
        yScale = d3.scaleLinear()
            .domain([yMin - yPad, yMax + yPad])
            .range([height, 0])
            .nice();
    }

    // Grid lines (horizontal only, subtle)
    g.append('g')
        .attr('class', 'grid')
        .selectAll('line')
        .data(yScale.ticks(4))
        .enter()
        .append('line')
        .attr('x1', 0)
        .attr('x2', width)
        .attr('y1', d => yScale(d))
        .attr('y2', d => yScale(d))
        .attr('stroke', '#e5e7eb')
        .attr('stroke-width', 1);

    // X axis
    g.append('g')
        .attr('transform', `translate(0,${height})`)
        .call(d3.axisBottom(xScale).ticks(4).tickSize(0).tickPadding(6))
        .call(g => g.select('.domain').attr('stroke', '#d1d5db'))
        .call(g => g.selectAll('.tick text')
            .attr('fill', '#6b7280')
            .attr('font-size', '10px')
            .attr('font-family', 'Source Code Pro, monospace'));

    // Y axis
    const yAxis = config.logScale
        ? d3.axisLeft(yScale).ticks(3, '.0e').tickSize(0).tickPadding(6)
        : d3.axisLeft(yScale).ticks(4).tickSize(0).tickPadding(6);

    g.append('g')
        .call(yAxis)
        .call(g => g.select('.domain').remove())
        .call(g => g.selectAll('.tick text')
            .attr('fill', '#6b7280')
            .attr('font-size', '10px')
            .attr('font-family', 'Source Code Pro, monospace'));

    // Title
    svg.append('text')
        .attr('x', margin.left + width / 2)
        .attr('y', 14)
        .attr('text-anchor', 'middle')
        .attr('fill', '#1f2937')
        .attr('font-size', '12px')
        .attr('font-weight', '600')
        .attr('font-family', 'Lora, serif')
        .text(config.title);

    // Line generator
    const line = d3.line()
        .defined(d => d.y !== null && d.y !== undefined && (!config.logScale || d.y > 0))
        .x(d => xScale(d.x))
        .y(d => yScale(d.y))
        .curve(d3.curveMonotoneX);

    // Colors and styles for runs
    const lineWidths = [2.5, 2.5];
    const dashPatterns = ['', '6,4'];
    const opacities = [0.9, 0.9];

    // Store all line data for tooltip
    const allLineData = [];

    runs.forEach((run, runIdx) => {
        if (config.multiLine) {
            config.yKeys.forEach((yKey, keyIdx) => {
                const data = run.steps.map((step, i) => ({
                    x: step,
                    y: run[yKey][i],
                    label: run.label,
                    metric: config.yLabels[keyIdx]
                })).filter(d => d.y !== null && d.y !== undefined);

                allLineData.push({ data, color: run.color, runIdx, keyIdx, label: run.label, metric: config.yLabels[keyIdx] });

                g.append('path')
                    .datum(data)
                    .attr('fill', 'none')
                    .attr('stroke', run.color)
                    .attr('stroke-width', lineWidths[runIdx])
                    .attr('stroke-dasharray', dashPatterns[runIdx])
                    .attr('stroke-opacity', keyIdx === 0 ? opacities[runIdx] : 0.5)
                    .attr('stroke-linecap', 'round')
                    .attr('stroke-linejoin', 'round')
                    .attr('d', line);
            });
        } else {
            const data = run.steps.map((step, i) => ({
                x: step,
                y: run[config.yKey][i],
                label: run.label
            })).filter(d => d.y !== null && d.y !== undefined && (!config.logScale || d.y > 0));

            allLineData.push({ data, color: run.color, runIdx, label: run.label });

            g.append('path')
                .datum(data)
                .attr('fill', 'none')
                .attr('stroke', run.color)
                .attr('stroke-width', lineWidths[runIdx])
                .attr('stroke-dasharray', dashPatterns[runIdx])
                .attr('stroke-opacity', opacities[runIdx])
                .attr('stroke-linecap', 'round')
                .attr('stroke-linejoin', 'round')
                .attr('d', line);
        }
    });

    // Tooltip interaction
    const tt = getTooltip();
    const format = d3.format(config.format || '.3f');

    // Vertical line for hover
    const hoverLine = g.append('line')
        .attr('stroke', '#9ca3af')
        .attr('stroke-width', 1)
        .attr('stroke-dasharray', '3,3')
        .attr('y1', 0)
        .attr('y2', height)
        .style('opacity', 0);

    // Hover dots
    const hoverDots = g.append('g').attr('class', 'hover-dots');

    // Overlay for mouse events
    g.append('rect')
        .attr('width', width)
        .attr('height', height)
        .attr('fill', 'transparent')
        .on('mousemove', function(event) {
            const [mx] = d3.pointer(event);
            const x0 = xScale.invert(mx);

            // Find closest step
            const bisect = d3.bisector(d => d.x).left;
            let tooltipHtml = `<strong>Step ${Math.round(x0)}</strong><br>`;

            hoverLine.attr('x1', mx).attr('x2', mx).style('opacity', 1);
            hoverDots.selectAll('circle').remove();

            allLineData.forEach(lineInfo => {
                const i = bisect(lineInfo.data, x0, 1);
                const d0 = lineInfo.data[i - 1];
                const d1 = lineInfo.data[i];
                if (!d0 && !d1) return;
                const d = !d1 ? d0 : !d0 ? d1 : (x0 - d0.x > d1.x - x0 ? d1 : d0);

                if (d && d.y !== null && d.y !== undefined) {
                    const metricLabel = lineInfo.metric ? ` (${lineInfo.metric})` : '';
                    tooltipHtml += `<span style="color:${lineInfo.color}"></span> ${lineInfo.label}${metricLabel}: ${format(d.y)}<br>`;

                    hoverDots.append('circle')
                        .attr('cx', xScale(d.x))
                        .attr('cy', yScale(d.y))
                        .attr('r', 4)
                        .attr('fill', lineInfo.color)
                        .attr('stroke', '#fff')
                        .attr('stroke-width', 1.5);
                }
            });

            tt.html(tooltipHtml)
                .style('left', (event.pageX + 15) + 'px')
                .style('top', (event.pageY - 10) + 'px')
                .style('opacity', 1);
        })
        .on('mouseleave', function() {
            hoverLine.style('opacity', 0);
            hoverDots.selectAll('circle').remove();
            tt.style('opacity', 0);
        });
}

// Initialize when DOM is ready
function initAll() {
    initStalenessPlots();
    populateInlineMetrics();
    generateComparisonTable();
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAll);
} else {
    initAll();
}
